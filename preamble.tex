\usepackage{fontspec}
\usepackage[babelshorthands=true]{polyglossia}
\let\lang\relax\let\endlang\relax % avoid conflict with complexity.sty

\setdefaultlanguage{russian}
\setotherlanguage{english}


\defaultfontfeatures{Ligatures=TeX}

\setmainfont{Times New Roman}
\setsansfont{Arial}
\setmonofont[Contextuals=Alternate]{Fira Code}

\newfontfamily\cyrillicfont{Times New Roman}
\newfontfamily\cyrillicfontsf{Arial}
\newfontfamily\cyrillicfonttt[Contextuals=Alternate]{Fira Code}

\newfontfamily\englishfont{Times New Roman}
\newfontfamily\englishfontsf{Arial}
\newfontfamily\englishfonttt[Contextuals=Alternate]{Fira Code}

\usepackage{microtype} % nicer layouts with microtypography tricks

\usepackage[a4paper, lmargin=30mm, rmargin=15mm, tmargin=20mm, bmargin=20mm]{geometry}
\linespread{1.5}
\usepackage[indent = 1.25cm]{parskip}

\usepackage{titlesec}
\titleformat{\section}{\normalfont\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalfont\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{}

\titlespacing*{\section} {\parindent}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}
\titlespacing*{\subsection} {\parindent}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\titlespacing*{\subsubsection}{\parindent}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\usepackage{enumitem}
\setlist{nosep,topsep=-\parskip}
\setlist[enumerate]{label={\arabic*)}}
\setlist[itemize]{label={---}}


\usepackage[outputdir=build]{minted}
\usemintedstyle{vs}
\setminted{fontsize=\footnotesize}

\newcommand{\inlcpp}[1]{\mintinline{c++}{#1}}
\newcommand{\mintlbl}[1]{\phantomsection\label{#1}}

\usepackage[backend=biber,
  bibencoding=utf8,
  sorting=none,
  style=gost-numeric,
  language=autobib,
  autolang=other,
  clearlang=true,
  defernumbers=true,
  sortcites=true,
  doi=true,
  isbn=true,
]{biblatex}

\bibliography{bibliography}

\usepackage[dvipsnames]{xcolor}
\usepackage{xurl}
\usepackage[hidelinks,colorlinks=true]{hyperref}
\hypersetup{
  linkcolor=BrickRed,
  citecolor=Green,
  filecolor=Mulberry,
  urlcolor=NavyBlue,
  menucolor=BrickRed,
  runcolor=Mulberry,
  linkbordercolor=BrickRed,
  citebordercolor=Green,
  filebordercolor=Mulberry,
  urlbordercolor=NavyBlue,
  menubordercolor=BrickRed,
  runbordercolor=Mulberry
}

\renewcommand{\UrlFont}{\small\rmfamily\tt}
\renewcommand\thesection{\arabic{section}}

\usepackage{amsfonts}

\usepackage{tikz}
\usetikzlibrary{graphs, arrows.meta}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\pgfplotsset{compat=1.18}
\usepgfplotslibrary{external}
\usetikzlibrary{external}
\tikzexternalize[prefix=./build/]

\usepackage{wrapfig}

\usepackage{easy-todo}

\usepackage{graphicx}
\graphicspath{ {./images/} }

% Code snippets
\usepackage[outputdir=build]{minted}
\usemintedstyle{vs}
\renewcommand{\inlcpp}[1]{\mintinline{c++}{#1}}

\usepackage{amssymb}
\usepackage{amsmath}

\usepackage{complexity}

\usepackage{xpatch}

\usepackage{algpseudocode}
\usepackage{algorithm}
\makeatletter
\xpatchcmd{\algorithmic}{\itemsep\z@}{\itemsep=-0.2em}{}{}
\makeatother
\floatname{algorithm}{Алгоритм}

\usepackage[firstpageonly=true, text={ЧЕРНОВИК}, color=red]{draftwatermark}
\overfullrule=1mm
